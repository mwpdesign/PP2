[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test collection settings
norecursedirs = .* build dist CVS _darcs {arch} *.egg venv env virtualenv

# Test execution settings
addopts = 
    --verbose
    --tb=short
    --cov=app
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml
    --junitxml=test-results/junit.xml
    -p no:warnings

# Environment variables for testing
env =
    ENVIRONMENT=test
    TESTING=True
    DATABASE_URL=sqlite:///./test.db
    SECRET_KEY=test_secret_key
    ACCESS_TOKEN_EXPIRE_MINUTES=15
    REFRESH_TOKEN_EXPIRE_DAYS=7
    BACKEND_CORS_ORIGINS=["http://localhost:3000"]
    AWS_ACCESS_KEY_ID=test
    AWS_SECRET_ACCESS_KEY=test
    AWS_DEFAULT_REGION=us-east-1
    AWS_S3_BUCKET=test-bucket
    AUDIT_ENABLE_OBJECT_LOGGING=True 